(()=>{"use strict";const e=window.localStorage;let t=JSON.parse(e.getItem("projectsArray"));t=t||["Default"];class r{constructor(e,t,r,n){this.title=e,this.description=t,this.date=r,this.priority=n}print(){let e=document.createElement("div"),t=null;t="low"==this.priority?"primary":"medium"==this.priority?"warning":"danger",e.setAttribute("class",`card text-white bg-${t}`);let r=document.createElement("div");r.setAttribute("class","card-header text-white"),r.innerHTML=this.title,e.appendChild(r);let n=document.createElement("div");n.setAttribute("class","card-body text-white"),e.appendChild(n);let l=document.createElement("h5");l.setAttribute("class","card-title text-white"),l.innerHTML=this.description,n.appendChild(l);let i=document.createElement("p");i.setAttribute("class","card-text text-white"),i.innerHTML=this.date,n.appendChild(i),i=document.createElement("p"),i.setAttribute("class","card-text text-white"),i.innerHTML=this.priority,n.appendChild(i);const a=document.createElement("div");a.setAttribute("class","row container"),e.appendChild(a);const c=document.createElement("button");return c.setAttribute("id","deleteButton"),c.setAttribute("class","col-2"),c.innerHTML="Delete",a.appendChild(c),e}}let n=localStorage.getItem("currentProject");n??=localStorage.setItem("currentProject","Default");let l=JSON.parse(localStorage.getItem("allToDosArray"));l??=[];let i=JSON.parse(localStorage.getItem("projectsArray"));i??=[];let a=JSON.parse(localStorage.getItem("Default"));a??=[];let c=JSON.parse(localStorage.getItem("allToDosArray"));c??=[];let o=localStorage.getItem("currentProject");o??=localStorage.setItem("currentProject","Default"),null==JSON.parse(localStorage.getItem("Default"))&&localStorage.setItem("Default","[]");let d=JSON.parse(localStorage.getItem("Default"));d??=[],localStorage.setItem("currentArray",JSON.stringify(d));const s=document.getElementById("content"),u=document.createElement("div");u.setAttribute("class","col-4"),u.setAttribute("id","projectList"),s.appendChild(u);const m=document.createElement("div");m.setAttribute("class","col-8"),m.setAttribute("id","toDoList"),s.appendChild(m);let p=(()=>{const e=document.getElementById("projectList"),i=document.createElement("div");i.setAttribute("class","row");const c=document.createElement("h1");c.setAttribute("class","col-8"),c.innerHTML="Projects",i.appendChild(c);const o=(()=>{const e=document.createElement("form");e.setAttribute("id","idForm");const t=document.createElement("input");t.setAttribute("type","text"),t.setAttribute("placeholder","Project name"),t.setAttribute("id","nameField"),e.appendChild(t);const r=document.createElement("span");r.setAttribute("class","col-4");const n=document.createElement("button");return n.setAttribute("type","submit"),n.setAttribute("id","buttonSubmit"),n.innerHTML="Add project",r.appendChild(n),e.appendChild(r),e})();i.appendChild(o);const d=document.createElement("ul");for(let e=0;e<t.length;e++){let i=document.createElement("li"),c=document.createElement("button");c.innerHTML=t[e],c.addEventListener("click",(e=>{localStorage.setItem("currentProject",e.target.innerHTML),a=JSON.parse(localStorage.getItem(e.target.innerHTML)),localStorage.setItem("currentArray",JSON.stringify(a));let t=document.getElementById("toDoListShow");t.innerHTML=null;const n="Default"==localStorage.getItem("currentProject")?l:JSON.parse(localStorage.getItem("currentArray"));for(let e=0;e<n.length;e++){let l=new r(n[e].title,n[e].description,n[e].date,n[e].priority);if(l.title){let e=l.print();t.appendChild(e),toDoList.appendChild(t)}}})),i.appendChild(c),d.appendChild(i),a=JSON.parse(localStorage.getItem(n))}return e.appendChild(i),e.appendChild(d),o.children[1].children[0].addEventListener("click",(e=>{t.push(o.children[0].value);let r=document.createElement("li"),n=document.createElement("button");n.innerHTML=o.children[0].value,n.addEventListener("click",(e=>{localStorage.setItem("currentProject",e.target.innerHTML);let t=localStorage.getItem("currentProject");a=JSON.parse(localStorage.getItem(t)),localStorage.setItem("currentArray",JSON.stringify(a))})),localStorage.setItem("currentProject",o.children[0].value);let l=o.children[0].value;localStorage.setItem(`${l}`,JSON.stringify([])),localStorage.setItem("currentArray","[]"),document.getElementById("toDoListShow").innerHTML=null,r.appendChild(n),d.appendChild(r),localStorage.setItem("projectsArray",JSON.stringify(t))})),e})();s.appendChild(p);const g=(()=>{const e=document.getElementById("toDoList"),t=document.createElement("h2");t.setAttribute("class","text-center"),t.innerHTML="List of ToDo",e.appendChild(t);const n=document.createElement("div");n.setAttribute("class","toDoListBlock"),n.appendChild((()=>{const e=document.createElement("form"),t=document.createElement("div");e.appendChild(t);let r=document.createElement("label");r.setAttribute("for","title"),r.innerHTML="Title:",t.appendChild(r);let n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("name","title"),n.setAttribute("id","title"),t.appendChild(n);const l=document.createElement("div");e.appendChild(l),r=document.createElement("label"),r.innerHTML="Description:",r.setAttribute("for","description"),l.appendChild(r),n=document.createElement("input"),n.setAttribute("type","text"),n.setAttribute("name","description"),n.setAttribute("id","description"),l.appendChild(n);const i=document.createElement("div");e.appendChild(i),r=document.createElement("label"),r.innerHTML="Due Date: ",r.setAttribute("for","dueDate"),i.appendChild(r),n=document.createElement("input"),n.setAttribute("type","date"),n.setAttribute("name","dueDate"),n.setAttribute("id","dueDate"),i.appendChild(n);const a=document.createElement("div");e.appendChild(a),r=document.createElement("label"),r.innerHTML="Priority:",r.setAttribute("for","priority"),a.appendChild(r);for(let e=0;e<3;e++){let t;switch(n=document.createElement("input"),e){case 0:t="low";break;case 1:t="medium";break;case 2:t="urgent"}r=document.createElement("label"),r.setAttribute("for",t),r.innerHTML=t,a.appendChild(r),n.setAttribute("type","radio"),n.setAttribute("name",t),n.setAttribute("id",t),a.appendChild(n)}const c=document.createElement("input");return e.appendChild(c),c.setAttribute("type","submit"),c.setAttribute("id","submitButton"),e})()),e.appendChild(n);const l=document.createElement("div");l.setAttribute("id","toDoListShow"),e.appendChild(l);let i=localStorage.getItem("currentProject");const a="Default"==i?c:JSON.parse(localStorage.getItem(i));for(let e=0;e<a.length;e++){const t=new r(a[e].title,a[e].description,a[e].date,a[e].priority);if(t.title){let e=t.print();l.appendChild(e)}}return e})();s.appendChild(g),document.getElementById("submitButton").addEventListener("click",(e=>{e.preventDefault();let t=document.getElementById("title").value,n=document.getElementById("description").value,l=document.getElementById("dueDate").value,i=(()=>{let e=document.getElementById("low"),t=document.getElementById("medium"),r=document.getElementById("urgent"),n=null;return n=e.checked?e.name:t.checked?t.name:r.name,n})(),a=new r(t,n,l,i);toDoListShow.appendChild(a.print()),c.push(a),d=JSON.parse(localStorage.getItem("currentArray")),localStorage.setItem("Default",JSON.stringify(c)),d.push(a),o=localStorage.getItem("currentProject"),localStorage.setItem("currentArray",JSON.stringify(d)),localStorage.setItem(`${o}`,JSON.stringify(d)),localStorage.setItem("allToDosArray",JSON.stringify(c)),g.appendChild(toDoListShow)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWRkQnV0dG9uLmpzIiwid2VicGFjazovLy8uL3NyYy90b0RvLmpzIiwid2VicGFjazovLy8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdG9Eb0NvbGxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbIm15U3RvcmFnZSIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsInByb2plY3RzIiwiSlNPTiIsInBhcnNlIiwiZ2V0SXRlbSIsIlRvRG8iLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZGF0ZSIsInByaW9yaXR5IiwidGhpcyIsImNhcmQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjb2xvciIsInNldEF0dHJpYnV0ZSIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwiYm9keSIsImJvZHlUaXRsZSIsImJvZHlQIiwia2V5cGFkIiwiZGVsQnV0dG9uIiwiY3VycmVudFByb2plY3QiLCJzZXRJdGVtIiwiYWxsVG9Eb3MiLCJwcm9qZWN0c0FycmF5IiwiY3VycmVudEFycmF5Iiwic3RyaW5naWZ5IiwiY29udGVudCIsImdldEVsZW1lbnRCeUlkIiwicHRMaXN0IiwidG9MaXN0IiwicHJvamVjdExpc3QiLCJkaXZQcm9qZWN0c0J1dHRvbiIsImZvcm0iLCJpbnB1dE5hbWUiLCJzcGFuQWRkQnV0dG9uIiwiYWRkQnV0dG9uIiwiYWRkQnV0dG9uQ29tcG9uZW50IiwidUxpc3QiLCJpbmRleCIsImxlbmd0aCIsImxpIiwiYnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJsaXN0IiwiYXJyYXlBdXgiLCJyZW5kZXJDYXJkIiwicHJpbnQiLCJ0b0RvTGlzdCIsImNoaWxkcmVuIiwicHVzaCIsInZhbHVlIiwiaXRlbSIsImtleSIsInByb2plY3RMaXN0Q29tcG9uZW50IiwidG9Eb0xpc3RCbG9jayIsImlucHV0VGl0bGVOTGFiZWwiLCJsYWJlbCIsImlucHV0IiwiaW5wdXREZXNjcmlwdGlvbk5MYWJlbCIsImlucHV0RHVlRGF0ZU5MYWJlbCIsImlucHV0UHJpb3JpdHlOTGFiZWwiLCJzdW1iaXRCdXR0b24iLCJ0b0RvTGlzdFNob3ciLCJ0b0RvQ29sbGVjdGlvbiIsInByZXZlbnREZWZhdWx0IiwiZGVzYyIsInByaW9yIiwicHJpb3JpdHlMb3ciLCJwcmlvcml0eU1lZGl1bSIsInByaW9yaXR5VXJnZW50IiwiY2hlY2tlZCIsIm5hbWUiLCJnZXRQcmlvcml0eSIsInRvRG8iXSwibWFwcGluZ3MiOiJtQkFBQSxNQUFNQSxFQUFZQyxPQUFPQyxhQUN6QixJQUFJQyxFQUFXQyxLQUFLQyxNQUFNTCxFQUFVTSxRQUFRLGtCQUM1Q0gsRUFBWUEsR0FBVyxDQUFDLFdDRnhCLE1BQU1JLEVBQ0osWUFBWUMsRUFBT0MsRUFBYUMsRUFBTUMsR0FDcENDLEtBQUtKLE1BQVFBLEVBQ2JJLEtBQUtILFlBQWNBLEVBQ25CRyxLQUFLRixLQUFPQSxFQUNaRSxLQUFLRCxTQUFXQSxFQUdsQixRQUNFLElBQUlFLEVBQU9DLFNBQVNDLGNBQWMsT0FDOUJDLEVBQVEsS0FFVkEsRUFEbUIsT0FBakJKLEtBQUtELFNBQ0MsVUFDa0IsVUFBakJDLEtBQUtELFNBQ04sVUFFQSxTQUVWRSxFQUFLSSxhQUFhLFFBQVMsc0JBQXNCRCxLQUVqRCxJQUFJUixFQUFRTSxTQUFTQyxjQUFjLE9BQ25DUCxFQUFNUyxhQUFhLFFBQVMsMEJBQzVCVCxFQUFNVSxVQUFZTixLQUFLSixNQUN2QkssRUFBS00sWUFBWVgsR0FFakIsSUFBSVksRUFBT04sU0FBU0MsY0FBYyxPQUNsQ0ssRUFBS0gsYUFBYSxRQUFTLHdCQUMzQkosRUFBS00sWUFBWUMsR0FFakIsSUFBSUMsRUFBWVAsU0FBU0MsY0FBYyxNQUN2Q00sRUFBVUosYUFBYSxRQUFTLHlCQUNoQ0ksRUFBVUgsVUFBWU4sS0FBS0gsWUFDM0JXLEVBQUtELFlBQVlFLEdBRWpCLElBQUlDLEVBQVFSLFNBQVNDLGNBQWMsS0FDbkNPLEVBQU1M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ZSxpQkFBaUIsU0FBVUMsSUFDdENBLEVBQUV1QixpQkFDRixJQUFJL0QsRUFoQ1FNLFNBQVNrQixlQUFlLFNBQ3ZCeUIsTUFnQ1RlLEVBNUJjMUQsU0FBU2tCLGVBQWUsZUFDdkJ5QixNQTRCZi9DLEVBeEJPSSxTQUFTa0IsZUFBZSxXQUN2QnlCLE1Bd0JSZ0IsRUFyQmMsTUFDbEIsSUFBSUMsRUFBYzVELFNBQVNrQixlQUFlLE9BQ3RDMkMsRUFBaUI3RCxTQUFTa0IsZUFBZSxVQUN6QzRDLEVBQWlCOUQsU0FBU2tCLGVBQWUsVUFDekNyQixFQUFXLEtBUWYsT0FORUEsRUFERStELEVBQVlHLFFBQ0hILEVBQVlJLEtBQ2RILEVBQWVFLFFBQ2JGLEVBQWVHLEtBRWZGLEVBQWVFLEtBRXJCbkUsR0FTS29FLEdBRVJDLEVBQU8sSUFBSXpFLEVBQUtDLEVBQU9nRSxFQUFNOUQsRUFBTStELEdBQ3ZDSixhQUFhbEQsWUFBWTZELEVBQUszQixTQUM5QixPQUFjMkIsR0FDZCxFQUFlNUUsS0FBS0MsTUFBTUgsYUFBYUksUUFBUSxpQkFDL0NKLGFBQWF3QixRQUFRLFVBQVd0QixLQUFLMEIsVUFBVSxJQUMvQyxFQUFhMEIsS0FBS3dCLEdBQ2xCLEVBQWlCOUUsYUFBYUksUUFBUSxrQkFDdENKLGFBQWF3QixRQUFRLGVBQWdCdEIsS0FBSzBCLFVBQVUsSUFDcEQ1QixhQUFhd0IsUUFBUSxHQUFHLElBQWtCdEIsS0FBSzBCLFVBQVUsSUFDekQ1QixhQUFhd0IsUUFBUSxnQkFBaUJ0QixLQUFLMEIsVUFBVSxJQUNyRCxFQUFTWCxZQUFZa0Qsa0IiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG15U3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XHJcbmxldCBwcm9qZWN0cyA9IEpTT04ucGFyc2UobXlTdG9yYWdlLmdldEl0ZW0oXCJwcm9qZWN0c0FycmF5XCIpKTtcclxucHJvamVjdHMgPSAhcHJvamVjdHMgPyBbXCJEZWZhdWx0XCJdIDogcHJvamVjdHM7XHJcblxyXG5jb25zdCBhZGRCdXR0b25Db21wb25lbnQgPSAoKSA9PiB7XHJcbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xyXG4gIGZvcm0uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJpZEZvcm1cIik7XHJcbiAgY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gIGlucHV0TmFtZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcclxuICBpbnB1dE5hbWUuc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIiwgXCJQcm9qZWN0IG5hbWVcIik7XHJcbiAgaW5wdXROYW1lLnNldEF0dHJpYnV0ZShcImlkXCIsIFwibmFtZUZpZWxkXCIpO1xyXG4gIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXROYW1lKTtcclxuICBjb25zdCBzcGFuQWRkQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgc3BhbkFkZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNvbC00XCIpO1xyXG4gIGNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgYWRkQnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJzdWJtaXRcIik7XHJcbiAgYWRkQnV0dG9uLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiYnV0dG9uU3VibWl0XCIpO1xyXG4gIGFkZEJ1dHRvbi5pbm5lckhUTUwgPSBcIkFkZCBwcm9qZWN0XCI7XHJcblxyXG4gIHNwYW5BZGRCdXR0b24uYXBwZW5kQ2hpbGQoYWRkQnV0dG9uKTtcclxuICBmb3JtLmFwcGVuZENoaWxkKHNwYW5BZGRCdXR0b24pO1xyXG5cclxuICByZXR1cm4gZm9ybTtcclxufTtcclxuXHJcbmV4cG9ydCB7IHByb2plY3RzLCBhZGRCdXR0b25Db21wb25lbnQgfTtcclxuIiwiY2xhc3MgVG9EbyB7XHJcbiAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkYXRlLCBwcmlvcml0eSkge1xyXG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xyXG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gICAgdGhpcy5kYXRlID0gZGF0ZTtcclxuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcclxuICB9XHJcblxyXG4gIHByaW50KCkge1xyXG4gICAgbGV0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgbGV0IGNvbG9yID0gbnVsbDtcclxuICAgIGlmICh0aGlzLnByaW9yaXR5ID09IFwibG93XCIpIHtcclxuICAgICAgY29sb3IgPSBcInByaW1hcnlcIjtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5wcmlvcml0eSA9PSBcIm1lZGl1bVwiKSB7XHJcbiAgICAgIGNvbG9yID0gXCJ3YXJuaW5nXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb2xvciA9IFwiZGFuZ2VyXCI7XHJcbiAgICB9XHJcbiAgICBjYXJkLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGBjYXJkIHRleHQtd2hpdGUgYmctJHtjb2xvcn1gKTtcclxuXHJcbiAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgdGl0bGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXJkLWhlYWRlciB0ZXh0LXdoaXRlXCIpO1xyXG4gICAgdGl0bGUuaW5uZXJIVE1MID0gdGhpcy50aXRsZTtcclxuICAgIGNhcmQuYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG5cclxuICAgIGxldCBib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGJvZHkuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXJkLWJvZHkgdGV4dC13aGl0ZVwiKTtcclxuICAgIGNhcmQuYXBwZW5kQ2hpbGQoYm9keSk7XHJcblxyXG4gICAgbGV0IGJvZHlUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoNVwiKTtcclxuICAgIGJvZHlUaXRsZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhcmQtdGl0bGUgdGV4dC13aGl0ZVwiKTtcclxuICAgIGJvZHlUaXRsZS5pbm5lckhUTUwgPSB0aGlzLmRlc2NyaXB0aW9uO1xyXG4gICAgYm9keS5hcHBlbmRDaGlsZChib2R5VGl0bGUpO1xyXG5cclxuICAgIGxldCBib2R5UCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgYm9keVAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXJkLXRleHQgdGV4dC13aGl0ZVwiKTtcclxuICAgIGJvZHlQLmlubmVySFRNTCA9IHRoaXMuZGF0ZTtcclxuICAgIGJvZHkuYXBwZW5kQ2hpbGQoYm9keVApO1xyXG5cclxuICAgIGJvZHlQID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICBib2R5UC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhcmQtdGV4dCB0ZXh0LXdoaXRlXCIpO1xyXG4gICAgYm9keVAuaW5uZXJIVE1MID0gdGhpcy5wcmlvcml0eTtcclxuICAgIGJvZHkuYXBwZW5kQ2hpbGQoYm9keVApO1xyXG5cclxuICAgIGNvbnN0IGtleXBhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBrZXlwYWQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJyb3cgY29udGFpbmVyXCIpO1xyXG4gICAgY2FyZC5hcHBlbmRDaGlsZChrZXlwYWQpO1xyXG5cclxuICAgIGNvbnN0IGRlbEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICBkZWxCdXR0b24uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJkZWxldGVCdXR0b25cIik7XHJcbiAgICBkZWxCdXR0b24uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjb2wtMlwiKTtcclxuICAgIGRlbEJ1dHRvbi5pbm5lckhUTUwgPSBcIkRlbGV0ZVwiO1xyXG4gICAga2V5cGFkLmFwcGVuZENoaWxkKGRlbEJ1dHRvbik7XHJcblxyXG4gICAgcmV0dXJuIGNhcmQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBUb0RvIH07XHJcbiIsImltcG9ydCB7IHByb2plY3RzLCBhZGRCdXR0b25Db21wb25lbnQgfSBmcm9tIFwiLi9hZGRCdXR0b25cIjtcclxuaW1wb3J0IHsgVG9EbyB9IGZyb20gXCIuL3RvRG9cIjtcclxuXHJcbmxldCBjdXJyZW50UHJvamVjdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3VycmVudFByb2plY3RcIik7XHJcbmN1cnJlbnRQcm9qZWN0ID8/PSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnRQcm9qZWN0XCIsIFwiRGVmYXVsdFwiKTtcclxubGV0IGFsbFRvRG9zID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImFsbFRvRG9zQXJyYXlcIikpO1xyXG5hbGxUb0RvcyA/Pz0gW107XHJcblxyXG5sZXQgcHJvamVjdHNBcnJheSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcm9qZWN0c0FycmF5XCIpKTtcclxucHJvamVjdHNBcnJheSA/Pz0gW107XHJcbmxldCBjdXJyZW50QXJyYXkgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiRGVmYXVsdFwiKSk7XHJcbmN1cnJlbnRBcnJheSA/Pz0gW107XHJcblxyXG5jb25zdCBwcm9qZWN0TGlzdENvbXBvbmVudCA9ICgpID0+IHtcclxuICBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdExpc3RcIik7XHJcblxyXG4gIGNvbnN0IGRpdlByb2plY3RzQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXZQcm9qZWN0c0J1dHRvbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInJvd1wiKTtcclxuXHJcbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XHJcbiAgdGl0bGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjb2wtOFwiKTtcclxuICB0aXRsZS5pbm5lckhUTUwgPSBcIlByb2plY3RzXCI7XHJcbiAgZGl2UHJvamVjdHNCdXR0b24uYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG4gIGNvbnN0IGZvcm0gPSBhZGRCdXR0b25Db21wb25lbnQoKTtcclxuICBkaXZQcm9qZWN0c0J1dHRvbi5hcHBlbmRDaGlsZChmb3JtKTtcclxuXHJcbiAgY29uc3QgdUxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XHJcblxyXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwcm9qZWN0cy5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgIGxldCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgYnV0dG9uLmlubmVySFRNTCA9IHByb2plY3RzW2luZGV4XTtcclxuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjdXJyZW50UHJvamVjdFwiLCBlLnRhcmdldC5pbm5lckhUTUwpO1xyXG4gICAgICBjdXJyZW50QXJyYXkgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGUudGFyZ2V0LmlubmVySFRNTCkpO1xyXG5cclxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjdXJyZW50QXJyYXlcIiwgSlNPTi5zdHJpbmdpZnkoY3VycmVudEFycmF5KSk7XHJcbiAgICAgIGxldCBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvTGlzdFNob3dcIik7XHJcblxyXG4gICAgICBsaXN0LmlubmVySFRNTCA9IG51bGw7XHJcbiAgICAgIGxldCBjdXJyZW50UHJvamVjdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3VycmVudFByb2plY3RcIik7XHJcbiAgICAgIGNvbnN0IGFycmF5QXV4ID1cclxuICAgICAgICBjdXJyZW50UHJvamVjdCA9PSBcIkRlZmF1bHRcIlxyXG4gICAgICAgICAgPyBhbGxUb0Rvc1xyXG4gICAgICAgICAgOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3VycmVudEFycmF5XCIpKTtcclxuXHJcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcnJheUF1eC5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICBsZXQgY2FyZCA9IG5ldyBUb0RvKFxyXG4gICAgICAgICAgYXJyYXlBdXhbaW5kZXhdLnRpdGxlLFxyXG4gICAgICAgICAgYXJyYXlBdXhbaW5kZXhdLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgYXJyYXlBdXhbaW5kZXhdLmRhdGUsXHJcbiAgICAgICAgICBhcnJheUF1eFtpbmRleF0ucHJpb3JpdHlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAoY2FyZC50aXRsZSkge1xyXG4gICAgICAgICAgbGV0IHJlbmRlckNhcmQgPSBjYXJkLnByaW50KCk7XHJcbiAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKHJlbmRlckNhcmQpO1xyXG4gICAgICAgICAgdG9Eb0xpc3QuYXBwZW5kQ2hpbGQobGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBsaS5hcHBlbmRDaGlsZChidXR0b24pO1xyXG4gICAgdUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xyXG5cclxuICAgIGN1cnJlbnRBcnJheSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oY3VycmVudFByb2plY3QpKTtcclxuICB9XHJcblxyXG4gIHByb2plY3RMaXN0LmFwcGVuZENoaWxkKGRpdlByb2plY3RzQnV0dG9uKTtcclxuXHJcbiAgcHJvamVjdExpc3QuYXBwZW5kQ2hpbGQodUxpc3QpO1xyXG5cclxuICBjb25zdCBzdWJtaXRCdXR0b24gPSBmb3JtLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzBdO1xyXG4gIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIHByb2plY3RzLnB1c2goZm9ybS5jaGlsZHJlblswXS52YWx1ZSk7XHJcbiAgICBsZXQgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICBsZXQgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBmb3JtLmNoaWxkcmVuWzBdLnZhbHVlO1xyXG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnRQcm9qZWN0XCIsIGUudGFyZ2V0LmlubmVySFRNTCk7XHJcbiAgICAgIGxldCBpdGVtID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjdXJyZW50UHJvamVjdFwiKTtcclxuICAgICAgY3VycmVudEFycmF5ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpdGVtKSk7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3VycmVudEFycmF5XCIsIEpTT04uc3RyaW5naWZ5KGN1cnJlbnRBcnJheSkpO1xyXG4gICAgfSk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnRQcm9qZWN0XCIsIGZvcm0uY2hpbGRyZW5bMF0udmFsdWUpO1xyXG4gICAgbGV0IGtleSA9IGZvcm0uY2hpbGRyZW5bMF0udmFsdWU7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgJHtrZXl9YCwgSlNPTi5zdHJpbmdpZnkoW10pKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3VycmVudEFycmF5XCIsIFwiW11cIik7XHJcbiAgICBsZXQgdG9Eb0xpc3RTaG93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvTGlzdFNob3dcIik7XHJcbiAgICB0b0RvTGlzdFNob3cuaW5uZXJIVE1MID0gbnVsbDtcclxuICAgIGxpLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICB1TGlzdC5hcHBlbmRDaGlsZChsaSk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzQXJyYXlcIiwgSlNPTi5zdHJpbmdpZnkocHJvamVjdHMpKTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHByb2plY3RMaXN0O1xyXG59O1xyXG5cclxuZXhwb3J0IHsgcHJvamVjdExpc3RDb21wb25lbnQgfTtcclxuIiwiaW1wb3J0IHsgVG9EbyB9IGZyb20gXCIuL3RvRG9cIjtcclxuXHJcbmxldCBhbGxUb0RvcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhbGxUb0Rvc0FycmF5XCIpKTtcclxuYWxsVG9Eb3MgPz89IFtdO1xyXG5cclxuY29uc3QgZm9ybSA9ICgpID0+IHtcclxuICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XHJcbiAgY29uc3QgaW5wdXRUaXRsZU5MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dFRpdGxlTkxhYmVsKTtcclxuICBsZXQgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgbGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwidGl0bGVcIik7XHJcbiAgbGFiZWwuaW5uZXJIVE1MID0gXCJUaXRsZTpcIjtcclxuICBpbnB1dFRpdGxlTkxhYmVsLmFwcGVuZENoaWxkKGxhYmVsKTtcclxuXHJcbiAgbGV0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gIGlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xyXG4gIGlucHV0LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJ0aXRsZVwiKTtcclxuICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInRpdGxlXCIpO1xyXG4gIGlucHV0VGl0bGVOTGFiZWwuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG5cclxuICBjb25zdCBpbnB1dERlc2NyaXB0aW9uTkxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBmb3JtLmFwcGVuZENoaWxkKGlucHV0RGVzY3JpcHRpb25OTGFiZWwpO1xyXG4gIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gIGxhYmVsLmlubmVySFRNTCA9IFwiRGVzY3JpcHRpb246XCI7XHJcbiAgbGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwiZGVzY3JpcHRpb25cIik7XHJcbiAgaW5wdXREZXNjcmlwdGlvbk5MYWJlbC5hcHBlbmRDaGlsZChsYWJlbCk7XHJcblxyXG4gIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gIGlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xyXG4gIGlucHV0LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJkZXNjcmlwdGlvblwiKTtcclxuICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImRlc2NyaXB0aW9uXCIpO1xyXG4gIGlucHV0RGVzY3JpcHRpb25OTGFiZWwuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG5cclxuICBjb25zdCBpbnB1dER1ZURhdGVOTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXREdWVEYXRlTkxhYmVsKTtcclxuICBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICBsYWJlbC5pbm5lckhUTUwgPSBcIkR1ZSBEYXRlOiBcIjtcclxuICBsYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJkdWVEYXRlXCIpO1xyXG4gIGlucHV0RHVlRGF0ZU5MYWJlbC5hcHBlbmRDaGlsZChsYWJlbCk7XHJcblxyXG4gIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gIGlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJkYXRlXCIpO1xyXG4gIGlucHV0LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJkdWVEYXRlXCIpO1xyXG4gIGlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZHVlRGF0ZVwiKTtcclxuICBpbnB1dER1ZURhdGVOTGFiZWwuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG5cclxuICBjb25zdCBpbnB1dFByaW9yaXR5TkxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBmb3JtLmFwcGVuZENoaWxkKGlucHV0UHJpb3JpdHlOTGFiZWwpO1xyXG4gIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gIGxhYmVsLmlubmVySFRNTCA9IFwiUHJpb3JpdHk6XCI7XHJcbiAgbGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwicHJpb3JpdHlcIik7XHJcbiAgaW5wdXRQcmlvcml0eU5MYWJlbC5hcHBlbmRDaGlsZChsYWJlbCk7XHJcblxyXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAzOyBpbmRleCsrKSB7XHJcbiAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgIGxldCBwcmlvcml0eTtcclxuICAgIHN3aXRjaCAoaW5kZXgpIHtcclxuICAgICAgY2FzZSAwOlxyXG4gICAgICAgIHByaW9yaXR5ID0gXCJsb3dcIjtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgMTpcclxuICAgICAgICBwcmlvcml0eSA9IFwibWVkaXVtXCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMjpcclxuICAgICAgICBwcmlvcml0eSA9IFwidXJnZW50XCI7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgbGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIHByaW9yaXR5KTtcclxuICAgIGxhYmVsLmlubmVySFRNTCA9IHByaW9yaXR5O1xyXG4gICAgaW5wdXRQcmlvcml0eU5MYWJlbC5hcHBlbmRDaGlsZChsYWJlbCk7XHJcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwicmFkaW9cIik7XHJcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIHByaW9yaXR5KTtcclxuICAgIGlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIHByaW9yaXR5KTtcclxuICAgIGlucHV0UHJpb3JpdHlOTGFiZWwuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgc3VtYml0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gIGZvcm0uYXBwZW5kQ2hpbGQoc3VtYml0QnV0dG9uKTtcclxuICBzdW1iaXRCdXR0b24uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInN1Ym1pdFwiKTtcclxuICBzdW1iaXRCdXR0b24uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJzdWJtaXRCdXR0b25cIik7XHJcbiAgcmV0dXJuIGZvcm07XHJcbn07XHJcblxyXG5jb25zdCB0b0RvQ29sbGVjdGlvbiA9ICgpID0+IHtcclxuICBjb25zdCB0b0RvTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9Eb0xpc3RcIik7XHJcbiAgLy8gY29uc3QgdG9Eb0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIC8vIHRvRG9MaXN0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY29sLThcIik7XHJcbiAgLy8gdG9Eb0xpc3Quc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJ0b0RvTGlzdFwiKTtcclxuXHJcbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XHJcbiAgdGl0bGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ0ZXh0LWNlbnRlclwiKTtcclxuICB0aXRsZS5pbm5lckhUTUwgPSBcIkxpc3Qgb2YgVG9Eb1wiO1xyXG5cclxuICB0b0RvTGlzdC5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcblxyXG4gIGNvbnN0IHRvRG9MaXN0QmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIHRvRG9MaXN0QmxvY2suc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ0b0RvTGlzdEJsb2NrXCIpO1xyXG5cclxuICB0b0RvTGlzdEJsb2NrLmFwcGVuZENoaWxkKGZvcm0oKSk7XHJcbiAgdG9Eb0xpc3QuYXBwZW5kQ2hpbGQodG9Eb0xpc3RCbG9jayk7XHJcblxyXG4gIGNvbnN0IHRvRG9MaXN0U2hvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgdG9Eb0xpc3RTaG93LnNldEF0dHJpYnV0ZShcImlkXCIsIFwidG9Eb0xpc3RTaG93XCIpO1xyXG4gIHRvRG9MaXN0LmFwcGVuZENoaWxkKHRvRG9MaXN0U2hvdyk7XHJcbiAgbGV0IGN1cnJlbnRQcm9qZWN0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjdXJyZW50UHJvamVjdFwiKTtcclxuICBjb25zdCBhcnJheUF1eCA9XHJcbiAgICBjdXJyZW50UHJvamVjdCA9PSBcIkRlZmF1bHRcIlxyXG4gICAgICA/IGFsbFRvRG9zXHJcbiAgICAgIDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShjdXJyZW50UHJvamVjdCkpO1xyXG5cclxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXJyYXlBdXgubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICBjb25zdCBjYXJkID0gbmV3IFRvRG8oXHJcbiAgICAgIGFycmF5QXV4W2luZGV4XS50aXRsZSxcclxuICAgICAgYXJyYXlBdXhbaW5kZXhdLmRlc2NyaXB0aW9uLFxyXG4gICAgICBhcnJheUF1eFtpbmRleF0uZGF0ZSxcclxuICAgICAgYXJyYXlBdXhbaW5kZXhdLnByaW9yaXR5XHJcbiAgICApO1xyXG4gICAgaWYgKGNhcmQudGl0bGUpIHtcclxuICAgICAgbGV0IHJlbmRlckNhcmQgPSBjYXJkLnByaW50KCk7XHJcbiAgICAgIHRvRG9MaXN0U2hvdy5hcHBlbmRDaGlsZChyZW5kZXJDYXJkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB0b0RvTGlzdDtcclxufTtcclxuXHJcbmV4cG9ydCB7IHRvRG9Db2xsZWN0aW9uLCBhbGxUb0RvcyB9O1xyXG4iLCJpbXBvcnQgeyBwcm9qZWN0TGlzdENvbXBvbmVudCB9IGZyb20gXCIuL3Byb2plY3RzXCI7XHJcbmltcG9ydCB7IHRvRG9Db2xsZWN0aW9uLCBhbGxUb0RvcyB9IGZyb20gXCIuL3RvRG9Db2xsZWN0aW9uXCI7XHJcbmltcG9ydCB7IFRvRG8gfSBmcm9tIFwiLi90b0RvXCI7XHJcblxyXG5sZXQgY3VycmVudFByb2plY3QgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImN1cnJlbnRQcm9qZWN0XCIpO1xyXG5jdXJyZW50UHJvamVjdCA/Pz0gbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjdXJyZW50UHJvamVjdFwiLCBcIkRlZmF1bHRcIik7XHJcbmxldCBkZWZQcm9qZWN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkRlZmF1bHRcIikpO1xyXG5pZiAoZGVmUHJvamVjdCA9PSBudWxsKSB7XHJcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJEZWZhdWx0XCIsIFwiW11cIik7XHJcbn1cclxuXHJcbmxldCBjdXJyZW50QXJyYXkgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiRGVmYXVsdFwiKSk7XHJcbmN1cnJlbnRBcnJheSA/Pz0gW107XHJcbmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3VycmVudEFycmF5XCIsIEpTT04uc3RyaW5naWZ5KGN1cnJlbnRBcnJheSkpO1xyXG5cclxuY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcclxuXHJcbmNvbnN0IHB0TGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblxyXG5wdExpc3Quc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjb2wtNFwiKTtcclxucHRMaXN0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwicHJvamVjdExpc3RcIik7XHJcbmNvbnRlbnQuYXBwZW5kQ2hpbGQocHRMaXN0KTtcclxuXHJcbmNvbnN0IHRvTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbnRvTGlzdC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNvbC04XCIpO1xyXG50b0xpc3Quc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJ0b0RvTGlzdFwiKTtcclxuY29udGVudC5hcHBlbmRDaGlsZCh0b0xpc3QpO1xyXG5cclxubGV0IHByb2plY3RMaXN0ID0gcHJvamVjdExpc3RDb21wb25lbnQoKTtcclxuXHJcbmNvbnRlbnQuYXBwZW5kQ2hpbGQocHJvamVjdExpc3QpO1xyXG5cclxuY29uc3QgdG9Eb0xpc3QgPSB0b0RvQ29sbGVjdGlvbigpO1xyXG5jb250ZW50LmFwcGVuZENoaWxkKHRvRG9MaXN0KTtcclxuXHJcbmNvbnN0IGdldFRpdGxlID0gKCkgPT4ge1xyXG4gIGxldCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIik7XHJcbiAgcmV0dXJuIHRpdGxlLnZhbHVlO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0RGVzY3JpcHRpb24gPSAoKSA9PiB7XHJcbiAgbGV0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKTtcclxuICByZXR1cm4gZGVzY3JpcHRpb24udmFsdWU7XHJcbn07XHJcblxyXG5jb25zdCBnZXREYXRlID0gKCkgPT4ge1xyXG4gIGxldCBkYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkdWVEYXRlXCIpO1xyXG4gIHJldHVybiBkYXRlLnZhbHVlO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0UHJpb3JpdHkgPSAoKSA9PiB7XHJcbiAgbGV0IHByaW9yaXR5TG93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb3dcIik7XHJcbiAgbGV0IHByaW9yaXR5TWVkaXVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZWRpdW1cIik7XHJcbiAgbGV0IHByaW9yaXR5VXJnZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1cmdlbnRcIik7XHJcbiAgbGV0IHByaW9yaXR5ID0gbnVsbDtcclxuICBpZiAocHJpb3JpdHlMb3cuY2hlY2tlZCkge1xyXG4gICAgcHJpb3JpdHkgPSBwcmlvcml0eUxvdy5uYW1lO1xyXG4gIH0gZWxzZSBpZiAocHJpb3JpdHlNZWRpdW0uY2hlY2tlZCkge1xyXG4gICAgcHJpb3JpdHkgPSBwcmlvcml0eU1lZGl1bS5uYW1lO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBwcmlvcml0eSA9IHByaW9yaXR5VXJnZW50Lm5hbWU7XHJcbiAgfVxyXG4gIHJldHVybiBwcmlvcml0eTtcclxufTtcclxuXHJcbmNvbnN0IG9uU3VibWl0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0QnV0dG9uXCIpO1xyXG5vblN1Ym1pdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGxldCB0aXRsZSA9IGdldFRpdGxlKCk7XHJcbiAgbGV0IGRlc2MgPSBnZXREZXNjcmlwdGlvbigpO1xyXG4gIGxldCBkYXRlID0gZ2V0RGF0ZSgpO1xyXG4gIGxldCBwcmlvciA9IGdldFByaW9yaXR5KCk7XHJcblxyXG4gIGxldCB0b0RvID0gbmV3IFRvRG8odGl0bGUsIGRlc2MsIGRhdGUsIHByaW9yKTtcclxuICB0b0RvTGlzdFNob3cuYXBwZW5kQ2hpbGQodG9Eby5wcmludCgpKTtcclxuICBhbGxUb0Rvcy5wdXNoKHRvRG8pO1xyXG4gIGN1cnJlbnRBcnJheSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjdXJyZW50QXJyYXlcIikpO1xyXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiRGVmYXVsdFwiLCBKU09OLnN0cmluZ2lmeShhbGxUb0RvcykpO1xyXG4gIGN1cnJlbnRBcnJheS5wdXNoKHRvRG8pO1xyXG4gIGN1cnJlbnRQcm9qZWN0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjdXJyZW50UHJvamVjdFwiKTtcclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnRBcnJheVwiLCBKU09OLnN0cmluZ2lmeShjdXJyZW50QXJyYXkpKTtcclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgJHtjdXJyZW50UHJvamVjdH1gLCBKU09OLnN0cmluZ2lmeShjdXJyZW50QXJyYXkpKTtcclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImFsbFRvRG9zQXJyYXlcIiwgSlNPTi5zdHJpbmdpZnkoYWxsVG9Eb3MpKTtcclxuICB0b0RvTGlzdC5hcHBlbmRDaGlsZCh0b0RvTGlzdFNob3cpO1xyXG59KTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==